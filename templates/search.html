{% extends "layout.html" %}

{% block content %}

<div class="list has-visible-pointer-controls has-overflow-ellipsis box">
    {% for out in outs %}
    <div class="list-item">
        {% match out.uid %} {% when Some(uid) %}
        <div class="list-item-image">
            <figure class="image is-48x48">
                <p><a href="/user/{{uid}}"><img src="/static/avatars/{{uid}}.png"></a></p>
            </figure>
        </div>
        {% else %}{% endmatch %}
        <div class="list-item-content">
            <div class="list-item-title"><strong>
                <a href="{{ out.url }}">
                {{out.title}}</a></strong>
            </div>
            <div class="list-item-description">
                <span class="tag">{{out.date}}</span>
                <span class="tag">{{out.content_type}}</span>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<div class="divider"></div>

<nav class="pagination">
    {% if offset < 20 %}
    <a class="pagination-previous" disabled>Prev</a>
    {% else %}
    <a class="pagination-previous" href="/search?search={{search}}&offset={{offset-20}}">Prev</a>
    {% endif %}

    {% if outs.len() < 20 %}
    <a class="pagination-next" disabled>Next</a>
    {% else %}
    <a class="pagination-next" href="/search?search={{search}}&offset={{offset+20}}">Next</a>
    {% endif %}
</nav>
{% endblock %}